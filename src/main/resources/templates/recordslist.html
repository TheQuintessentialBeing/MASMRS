<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="www.thymeleaf.org/extras/spring-security">
<head th:replace="base :: baseheader">
    <title>Record List</title>
</head>
<body>
<div th:replace="base :: navlinks"></div>

<div class="container">
    <h4>Find your records</h4>

    <div class="input-group" style="width: 25%; margin-bottom: 20px">
        <input id="input" class="form-control rounded " placeholder="Search" aria-label="Search"
               aria-describedby="search-addon"/>
        <button id="inputbtn" onclick="searchTerm()" type="button" class="btn btn-light cs-action-button">
            search
        </button>
    </div>
    <script>
        function searchTerm() {
            if (inputVal().length != 0)
                window.document.location.href = "/records/search/" + inputVal();
            else
                window.document.location.href = "/product"
        }

        function inputVal() {
            return document.getElementById("input").value;
        }
    </script>


    <div th:unless="${records.isEmpty()}">
        <hr class="css-horizontal-line">
        <table class="table .table-bordered ">
            <tr>
                <th>Result ID</th>
                <th>student ID</th>
                <!--<th>Quantity</th>
                <th>Price($)</th>
                <th>Actions</th>-->

                <!--result_id,
                academic_year,
                comment,
                grade,
                q1,
                q2,
                q3,
                q4,
                section,
                student_id, -->

            </tr>
            <tr th:each="p: ${records}">
                <td>[[${p.recordsId}]]</td>
                <td>[[${p.studentId}]]</td>
               <!-- <td>[[${p.quantityInStock}]]</td>
                <td>[[${p.buyPrice}]]</td>-->
               <!-- <td style="width: 20px">

                    <a class="btn btn-light cs-action-button"
                       th:href="@{/product/detail/{productcode}(productcode=${p.productCode})}">
                        &lt;!&ndash;                    <i class="bi bi-ticket-detailed"></i>&ndash;&gt;
                        Detail

                    </a>
                </td>
                <td sec:authorize="isAuthenticated()">
                    <a class="btn btn-light cs-action-button"
                       th:href="@{/product/cart/{productcode}(productcode=${p.productCode})}">
                        &lt;!&ndash;                    <i class="bi bi-cart3"></i>&ndash;&gt;
                        To Cart
                    </a>
                </td>-->


            </tr>
        </table>


        <!--<nav aria-label="Pagination" th:if="${records.totalPages gt 0}">
            <ul class="pagination justify-content-center font-weight-bold">
                <li class="page-item" th:classappend="${records.number eq 0} ? 'disabled'">
                    <a class="page-link"
                       th:href="@{/product/?page={id}(id=${records.number lt 2 ? 1 : records.number})}"
                       aria-label="Previous" title="Previous Page" data-toggle="tooltip">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                <li class="page-item" th:classappend="${i eq records.number + 1} ? 'active'"
                    th:each="i : ${#numbers.sequence( 1, records.totalPages, 1)}">
                    <a class="page-link" th:href="@{/product/?page={id}(id=${i})}" th:text="${i}"
                       th:title="${'Page '+ i}" data-toggle="tooltip"></a>
                </li>
                <li class="page-item" th:classappend="${records.number + 1 eq records.totalPages} ? 'disabled'">
                    <a class="page-link" th:href="@{/product/?page={id}(id=${records.number + 2})}" aria-label="Next"
                       title="Next Page" data-toggle="tooltip">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
        </nav>-->
    </div>
</div>
<!--<div th:replace="base :: footer " id="testme"></div>-->
<script type="text/javascript" th:src="@{/webjars/jquery/3.2.1/jquery.min.js/}"></script>
<script type="text/javascript" th:src="@{/webjars/bootstrap/3.3.7/js/bootstrap.min.js}"></script>
</body>
</html>